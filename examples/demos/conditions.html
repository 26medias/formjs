<!DOCTYPE HTML>
<html lang="en-US">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="FormJS - The easiest and most powerful way to create forms and surveys.">
		<meta name="author" content="Julien Loutre">
		<link rel="shortcut icon" href="favicon.png">
		
		<title>FormJS - Form with conditions</title>
		
		<script src="../public/jquery/jquery.js"></script>
<script src="../public/bootstrap/./dist/js/bootstrap.js"></script>
<script src="../public/underscore/underscore-min.js"></script>
<script src="../public/json2/json2.js"></script>
<script src="../public/FormJS/core.js"></script>
<script src="../public/FormJS/modules/bootstrap.js"></script>
<script src="../public/FormJS/modules/accordion.js"></script>
<script src="../public/FormJS/modules/checkbox.js"></script>
<script src="../public/FormJS/modules/radio.js"></script>
<script src="../public/FormJS/modules/varchar.js"></script>
<script src="../public/jquery/jquery.js"></script>
		<link href="../public/bootstrap/./dist/css/bootstrap.css" rel="stylesheet">
<link href="../public/examples/custom.css" rel="stylesheet">
		
	</head>
	<body>
		
		<!-- Facebook code -->
		<div id="fb-root"></div>
		<script>(function(d, s, id) {
		  var js, fjs = d.getElementsByTagName(s)[0];
		  if (d.getElementById(id)) return;
		  js = d.createElement(s); js.id = id;
		  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
		  fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));</script>
		
		
		<a href="https://github.com/26medias/formjs"><img style="position: absolute; position: fixed; top: 0; right: 0; border: 0; z-index:5000;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
		
		<div id="wrap">
		
			<!-- Fixed navbar -->
			<div class="navbar navbar-default navbar-fixed-top" role="navigation">
				<div class="container">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
						<a class="navbar-brand" href="#">Form.js</a>
					</div>
					<div class="collapse navbar-collapse">
						<ul class="nav navbar-nav">
							<li ><a href="../index.html">Getting started</a></li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Demos <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="../demos/simple.html">Simple Form</a></li>
									<li><a href="../demos/conditions.html">With Conditions</a></li>
									<li><a href="../demos/custom-html.html">Custom Rendering</a></li>
								</ul>
							</li>
							<li><a href="mailto:julien@twenty-six-medias.com">Contact</a></li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		
			<!-- Begin page content -->
			<div class="container" style="padding-top: 80px;">
				<div class="panel panel-default">
	<div class="panel-body" id="form"></div>
	<div class="panel-footer">
		<div id="submit" class="btn btn-primary">Submit form</div>
	</div>
</div>


<script type="text/javascript">
	var form = [{
		name:			"question_1",
		type:			"radio",
		label:			"Select answer B to see follow up question",
		required:		true,
		list: [{
			value:		"A",
			label:		"Choice A"
		},{
			value:		"B",
			label:		"Choice B (select me)"
		},{
			value:		"C",
			label:		"Choice C"
		}]
	},{
		name:			"question_1.2",
		type:			"varchar",
		label:			"This question only display if you answered B on question 1",
		required:		false,
		condition:	function(question) {
			return new question('question_1').equal('B');
		}
	},{
		name:			"question_2",
		type:			"checkbox",
		label:			"Select anything",
		required:		true,
		list: [{
			value:		"A",
			label:		"Choice A"
		},{
			value:		"B",
			label:		"Choice B"
		},{
			value:		"C",
			label:		"Choice C"
		}]
	},{
		name:			"question_2.A",
		type:			"radio",
		label:			"You select answer A, why?",
		required:		true,
		list: [{
			value:		"liked-it",
			label:		"I liked answer A"
		},{
			value:		"idk",
			label:		"I don't know"
		}],
		condition:	function(question) {
			return new question('question_2').contains('A');
		}
	},{
		name:			"question_2.B",
		type:			"radio",
		label:			"You select answer B, why?",
		required:		true,
		list: [{
			value:		"liked-it",
			label:		"I liked answer B"
		},{
			value:		"idk",
			label:		"I don't know"
		}],
		condition:	function(question) {
			return new question('question_2').contains('B');
		}
	},{
		name:			"question_2.C",
		type:			"radio",
		label:			"You select answer C, why?",
		required:		true,
		list: [{
			value:		"liked-it",
			label:		"I liked answer C"
		},{
			value:		"idk",
			label:		"I don't know"
		}],
		condition:	function(question) {
			return new question('question_2').contains('C');
		}
	}];

	$(function() {	// We make sure jQuery is loaded before we generate the form.
		var jform = new formjs($("#form"), ['bootstrap']).build({	// We are generating the form in the #form container
			form:		form,			// The form data
			submit:		$("#submit"),	// The submit button
			onSubmit:	function(data, jform) {	// Executed when the entire form validates.
				// We use the Bootstrap plugin, telling it to reset the previous error display
				jform.bootstrap.resetErrors();
				// Output
				alert(JSON.stringify(data,null,4));
			},
			onError:	function(data, jform) {	// Executed when at least one question didn't validate.
				// We use the Bootstrap plugin, telling it to visually show us the errors using the bootstrap theme.
				jform.bootstrap.showErrors();
				// You can manage your own error display. "data" is an array containing the list of fields that did not validate.
				// We won't do that in that example.
				alert("You have errors on the form.");
			}
		});
	});
</script>
			</div>
		</div>
		
		<div id="footer">
			<div class="container">
				<p class="text-muted">&copy; Twenty-Six Medias, Inc 2014</p>
			</div>
		</div>
		
	</body>
</html>